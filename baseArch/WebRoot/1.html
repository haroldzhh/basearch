<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DEMO</title>
    <link rel="stylesheet" href="./css/law.css"/>
</head>
<body >
<div id="content" >
    <div id="canvas" ></div>
    <div id="graph"  ></div>
</div>
<script type="text/javascript" src="js/raphael.js"></script>
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
<script type="text/javascript" src="js/underscore.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.10.3.js"></script>
<script type="text/javascript" src="js/graph.js"></script>
<script type="text/javascript" src="js/law.js"></script>
<script type="text/javascript">
	_.templateSettings = {  
	    evaluate    : /{([\s\S]+?)}/g,  
	    interpolate : /{=([\s\S]+?)}/g,  
	    escape      : /{-([\s\S]+?)}/g  
	};  
</script>
<script>		//_Type = 'INPUT,A,DIV,BODY,IMG';
_Type = 'DIV,svg';
var _dataid = '';
function showDiv(id){
	document.getElementById(id).style.display='block';
	document.getElementById('bg').style.display='block';
}

function closeDiv(id){
	document.getElementById(id).style.display='none';
	document.getElementById('bg').style.display='none';
}
</script>

<div id="menu" class='DreamMenu'>
  <a href='javascript:addUpNode();'>添加上级公司节点</a> 
  <a href='javascript:addDownNode();'>添加下级公司节点</a> 
  <!--  a href='javascript:addvariousNode();'>添加平级公司节点</a--> 
  <a href='javascript:delCurrNode();'>删除当前公司节点</a> 
  <!--  ul>
  </ul>
  <a href='javascript:;'>......</a-->
</div>
<div id="main" class='DreamMenu'>
</div>
<script type="text/template" id="T-graph">
<div class="graph" data-id="{=data.id}" style="left:{=data.x}px; top:{=data.y}px" menu='menu'>
    {=data.name}
</div>
</script>

<input type="hidden" id="currentid" value=""/>
<div id="addfirstDiv" class="mydiv" style="display:none;width:300px;height:120px;">
	<br/>公司名：<input type="text" id="first" name="nfirst" value=""/><br/>
	<a href="javascript:
	var val = $('#first')[0].value;
	$('#first')[0].value = '';
	hermes.addFirstNode(val);
	closeDiv('addfirstDiv');">
	确定</a>&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="javascript:closeDiv('addfirstDiv');">取消</a>
</div>
<div id="addvariousDiv" class="mydiv" style="display:none;width:300px;height:120px;">
	<br/>公司名：<input type="text" id="variousid" name="nvarious" value=""/><br/>
	<a href="javascript:
	var val = $('#variousid')[0].value;
	var currID = $('#currentid')[0].value;
	$('#variousid')[0].value = '';
	$('#currentid')[0].value = '';
	hermes.addVariousNode(currID,val);
	closeDiv('addvariousDiv');">
	确定</a>&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="javascript:closeDiv('addvariousDiv');">取消</a>
</div>
<div id="addUpDiv" class="mydiv" style="display:none;width:300px;height:160px;">
	上级公司名：<input type="text" id="upnode" name="nupnode" value=""/><br/>
	可选上级公司：<select id="selectup"></select><br/>
	股权比例：<input type="text" id="uprate" name="nuprate" value=""/><br/>
	<a href="javascript:
	var name = $('#upnode')[0].value;
	var selectid = $('#selectup')[0].value;
	var currID = $('#currentid')[0].value;
	var rate = $('#uprate')[0].value;
	$('#upnode')[0].value = '';
	$('#selectup')[0].value = '';
	$('#currentid')[0].value = '';
	$('#uprate')[0].value = '';
	hermes.addUpNode(currID,name,selectid,rate);
	closeDiv('addUpDiv'); ">确定</a>&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="javascript:closeDiv('addUpDiv');">取消</a>
</div>
<div id="addDownDiv" class="mydiv" style="display:none;width:300px;height:160px;">
	下级公司名：<input type="text" id="downnode" name="ndownnode" value=""/><br/>
	可选下级公司：<select id="selectdown"></select><br/>
	股权比例：<input type="text" id="downrate" name="ndownrate" value=""/><br/>
	<a href="javascript:
	var name = $('#downnode')[0].value;
	var selectid = $('#selectdown')[0].value;
	var currID = $('#currentid')[0].value;
	var rate = $('#downrate')[0].value;
	$('#downnode')[0].value = '';
	$('#selectdown')[0].value = '';
	$('#currentid')[0].value = '';
	$('#downrate')[0].value = '';
	hermes.addDownNode(currID,name,selectid,rate);
	closeDiv('addDownDiv'); ">确定</a>&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="javascript:closeDiv('addDownDiv');">取消</a>
</div>
<div id="delDiv" class="mydiv" style="display:none;width:300px;height:120px;">
	<br/>
	<br/>
	<a href="javascript:closeDiv('delDiv');">确定</a>&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="javascript:closeDiv('delDiv');">取消</a>
</div>
<div id="bg" class="bg" style="display:none;"></div>
</body>
</html>